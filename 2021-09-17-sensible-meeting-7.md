
# 2021-09-17 sensible-meeting-7

## schedule

1. 遇到的严重问题 (15min)
2. 解决方案 (15min)
3. 如何简化后续的诊断 (10min)
4. 中长期优化 (10min)

## record

### 遇到的严重问题和解决方案

#### 问题1. push tx 失败率高

解决方案：

- (顾露) 新分配一个独立的 prune 节点 (100GB)，专用于 push tx
- (蒋杰) 转发 push 请求到新节点
 
这个节点不会受到其他操作 (RPC/ZMQ) 的影响，应该可以有效提高 push 成功率。

#### 问题2. 查不到 utxo/rawtx

某些交易明明就在现在的节点里边 (刚推上去没多久)，但是查询他的 utxo/rawtx 却查不到。

解决方案：

- (蒋杰) 修改和优化当前的数据流程和查询实现
- (顾露) 看看是否可以跑一个 P2P 网络监听的服务 (作为保险带)

### 简化后续的诊断

(中秋期间)

- 需要补上之前没有做的压力测试，看一下网络在哪些暴力的请求量级下，到什么程度的时候，哪些服务会先扛不住，考虑对应的方案。 
- 增加一些对于系统运行状况的监控，这样能提前发现问题和发现和诊断问题。

### 中长期优化

- 对超大区块的处理 
	+ 一个简单的做法是对节点进行定制，对于 sensible 依赖的节点，可以排除掉跟 sensible 无关的 99% 的纯数据交易，降低这一类巨量 tx 对系统的冲击，这一类型的定制也可以增加我们对节点的理解。

